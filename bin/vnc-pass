#!/bin/bash

# dependencies #

source /data/data/com.termux/files/usr/bin/console
source /data/data/com.termux/files/usr/bin/globals

echo
console.input "Enter VNC password:"
read -r input
echo

# prevent empty input values

while true
do
	if [ -z "$input" ]
	then
		console.warning "Input cannot be empty:"
		console.warning "Values are required for a successful setup."
		echo

		read -r input
	else
		eval password="$input"

		break
	fi
done

# hash password input using 'vncpasswd' utility and store in

echo "$password" | /usr/bin/vncpasswd -f > "$HOME"/.vnc/passwd

echo
console.success "VNC password changed."
echo
