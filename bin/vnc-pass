#!/bin/bash

# dependencies #

source /data/data/com.termux/files/usr/bin/console
source /data/data/com.termux/files/usr/bin/globals

# usage #

# variables #

script=$(basename -- "${BASH_SOURCE[0]}")

echo
console.input "Enter VNC password:"
read -r input
echo

# prevent empty input values

while true
do
	if [ -z "$input" ]
	then
		console.warning "Input cannot be empty:"
		console.warning "Password is required for a successful setup."
		echo

		read -r input
		echo
	else
		eval password="$input"

		break
	fi
done

# hash password input using 'vncpasswd' utility and store in

echo "$password" | vncpasswd -f > "$HOME"/.vnc/passwd

console.success "VNC password changed."
echo
