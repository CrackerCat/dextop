#!/bin/bash

# dependencies #

source /data/data/com.termux/files/usr/bin/console
source /data/data/com.termux/files/usr/bin/globals

vnc_server () {
	vncserver > /dev/null 2>&1
}

vnc_clean () {
	vnc_server \
		-kill \
		-clean \
			:*
	
	rm -rf /tmp/.X*
}

# check for process tokens and cleanup

if pgrep -f vnc > /dev/null
then
	echo
	console.fwd "Stopping display server..."
	echo

	vnc_clean
fi